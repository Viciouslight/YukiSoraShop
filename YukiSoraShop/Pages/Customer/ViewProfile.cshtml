@page
@model YukiSoraShop.Pages.Customer.ViewProfileModel
@{
    ViewData["Title"] = "View Profile";
}

<div class="row">
    <div class="col-12">
        <h1 class="mb-4">
            <i class="fas fa-user text-primary"></i> User Profile
        </h1>
    </div>
</div>

@if (Model.CurrentUser != null)
{
    <div class="row">
        <div class="col-md-4">
            <div class="card text-center">
                <div class="card-body">
                    <img src="@Model.CurrentUser.AvatarUrl" alt="Avatar" class="rounded-circle mb-3" width="150" height="150">
                    <h4 class="card-title">@Model.CurrentUser.FullName</h4>
                    <p class="text-muted">@@@Model.CurrentUser.Username</p>
                    <span class="badge bg-success">Active User</span>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-info-circle"></i> Personal Information
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div class="col-sm-4"><strong>Full Name:</strong></div>
                        <div class="col-sm-8">@Model.CurrentUser.FullName</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-4"><strong>Email:</strong></div>
                        <div class="col-sm-8">
                            <i class="fas fa-envelope text-primary"></i> @Model.CurrentUser.Email
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-4"><strong>Phone Number:</strong></div>
                        <div class="col-sm-8">
                            <i class="fas fa-phone text-success"></i> @Model.CurrentUser.PhoneNumber
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-4"><strong>Address:</strong></div>
                        <div class="col-sm-8">
                            <i class="fas fa-map-marker-alt text-danger"></i> @Model.CurrentUser.Address
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-4"><strong>Date of Birth:</strong></div>
                        <div class="col-sm-8">
                            <i class="fas fa-birthday-cake text-warning"></i> @Model.CurrentUser.DateOfBirth.ToString("dd/MM/yyyy")
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-4"><strong>Gender:</strong></div>
                        <div class="col-sm-8">@Model.CurrentUser.Gender</div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-sm-4"><strong>Member Since:</strong></div>
                        <div class="col-sm-8">
                            <i class="fas fa-calendar-alt text-info"></i> @Model.CurrentUser.CreatedAt.ToString("dd/MM/yyyy")
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fas fa-cogs"></i> Quick Actions
                    </h5>
                </div>
                <div class="card-body">
                    <div class="d-flex gap-2 flex-wrap">
                        <form method="post" asp-page-handler="SwitchUser" class="d-inline">
                            <input type="hidden" name="userId" value="@(Model.CurrentUser.Id == 1 ? 2 : 1)" />
                            <button type="submit" class="btn btn-outline-primary">
                                <i class="fas fa-user-friends"></i> Switch User
                            </button>
                        </form>
                        <button type="button" class="btn btn-outline-secondary">
                            <i class="fas fa-edit"></i> Edit Profile
                        </button>
                        <button type="button" class="btn btn-outline-info">
                            <i class="fas fa-key"></i> Change Password
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
else
{
    <div class="alert alert-warning" role="alert">
        <h4 class="alert-heading">No User Found!</h4>
        <p>Please log in to view your profile.</p>
        <hr>
        <form method="post" asp-page-handler="LoadUser" class="d-inline">
            <input type="hidden" name="userId" value="1" />
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-sign-in-alt"></i> Load Demo User
            </button>
        </form>
    </div>
}